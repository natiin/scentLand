<% layout('layouts/boilerplate') %>

<div class="container my-5">
  <div class="row">
    <div class="col-lg-6 col-md-8 offset-md-2 offset-lg-3">
      <p class="fw-bolder text-center mb-5">EDIT BRAND</p>
      <form class="needs-validation form-img-validate" method="POST" action="/brands/<%=brand._id%>?_method=PUT" novalidate enctype="multipart/form-data">
        <div class="mb-3">
          <label class="form-label" for="brand-name-edit"></label>
          <input class="form-control" type="text" value="<%= brand.name%>" id="brand-name-edit" name="brand[name]" required />
        </div>
        <div class="mb-3">
          <label class="form-label" for="brand-description-edit">Description</label>
          <textarea class="form-control" id="brand-description-edit" name="brand[description]" style="height: 100px" required><%= brand.description %> </textarea>
        </div>
        <div class="mb-3">
          <% brand.images.forEach((img, indx)=>{%>
          <img src="<%= img.thumbnail%>" class="img-thumbnail" />
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="<%= img.filename%>" id="img-<%=indx %>" name="brand[deleteImages][]" />
            <label class="form-check-label" for="img-<%=indx %>">Delete</label>
          </div>
          <% }) %>
        </div>
        <div class="mb-5 image-form">
          <label for="image-brand-edit" class="form-label">Add images (up to 2 per product max 500KB each)</label>
          <input class="form-control image-validate" type="file" id="image-brand-edit" name="brand[image]" value="" multiple />
          <div class="images-fail d-none text-danger m-1">Too many files or file exceeded maximum size.</div>
        </div>
        <button class="btn btn-outline-secondary">Submit</button>
      </form>
    </div>
  </div>
</div>

<script src="/JS/validateImagesAmount.js"></script>
<script src="/JS/validateForm.js"></script>
